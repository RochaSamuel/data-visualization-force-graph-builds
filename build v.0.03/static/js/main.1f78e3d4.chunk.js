(this["webpackJsonpdata-visualization-graph"]=this["webpackJsonpdata-visualization-graph"]||[]).push([[0],{167:function(t,n,e){"use strict";e.r(n);var i=e(0),o=e.n(i),c=e(16),a=e.n(c),r=(e(97),e(62),e(18)),s=e(17),u=e(78),l=e(30),d=e(212),p=e(213),b=e(11),j={container:{borderRadius:"10px",background:"#F2F2F2",width:"fit-content",padding:"15px",height:"fit-content",position:"absolute",zIndex:"1",top:"20px",left:"20px"}};function f(t){return console.log(t.nodes),Object(b.jsx)("div",{style:j.container,children:Object(b.jsx)(p.a,{id:"combo-box-demo",options:t.nodes,getOptionLabel:function(t){return t.id},onInputChange:function(n,e){var i=t.nodes.filter((function(t){return t.id===e})),o=1+40/Math.hypot(i[0].x,i[0].y,i[0].z);t.graphRef.current.cameraPosition({x:i[0].x*o,y:i[0].y*o,z:i[0].z*o},i[0],3e3)},style:{width:300},renderInput:function(t){return Object(b.jsx)(d.a,Object(l.a)(Object(l.a)({},t),{},{label:"ID da base",variant:"outlined"}))}})})}var x={container:{borderRadius:"10px",background:"#F2F2F2",width:"max-content",padding:"15px",height:"fit-content",position:"absolute",zIndex:"1",top:"130px",left:"20px"}};function O(t){var n=t.assuntos,e=t.applyFilter;return Object(b.jsx)("div",{style:x.container,children:Object(b.jsx)(p.a,{multiple:!0,size:"small",limitTags:2,id:"multiple-limit-tags",options:n,style:{width:300},getOptionLabel:function(t){return t},onChange:function(t,n){e(n)},renderInput:function(t){return Object(b.jsx)(d.a,Object(l.a)(Object(l.a)({},t),{},{variant:"outlined",label:"Slecione os assuntos",placeholder:"assuntos"}))}})})}var h={container:{borderRadius:"10px",background:"#F2F2F2",width:"max-content",padding:"15px",height:"fit-content",position:"absolute",zIndex:"1",top:"130px",right:"20px"}};function g(t){var n=t.assuntos,e=t.applyFilter;return Object(b.jsx)("div",{style:h.container,children:Object(b.jsx)(p.a,{multiple:!0,size:"small",limitTags:2,id:"multiple-limit-tags",options:n,style:{width:300},getOptionLabel:function(t){return t},onChange:function(t,n){e(n)},renderInput:function(t){return Object(b.jsx)(d.a,Object(l.a)(Object(l.a)({},t),{},{variant:"outlined",label:"Slecione os assuntos",placeholder:"assuntos"}))}})})}var m=function(){var t=Object(i.useRef)(null),n=Object(i.useState)([]),e=Object(s.a)(n,2),o=e[0],c=e[1],a=Object(i.useState)([]),l=Object(s.a)(a,2),d=l[0],p=l[1],j=Object(i.useState)([]),x=Object(s.a)(j,2),h=x[0],m=x[1],v=Object(i.useState)([]),y=Object(s.a)(v,2),F=y[0],k=y[1],S=Object(i.useState)([]),w=Object(s.a)(S,2),z=w[0],I=w[1],C=Object(i.useState)(!1),R=Object(s.a)(C,2),L=R[0],P=R[1],T=Object(i.useState)([]),D=Object(s.a)(T,2),E=D[0],A=D[1],B=Object(i.useState)([]),M=Object(s.a)(B,2),N=M[0],J=M[1],W=Object(i.useState)(!1),G=Object(s.a)(W,2),V=G[0],q=G[1];Object(i.useEffect)((function(){fetch("linksv2.json").then((function(t){return t.json()})).then((function(t){p(t),m(t)}),[]),fetch("nodesv2.json").then((function(t){return t.json()})).then((function(t){c(t),k(t)}))}),[]),Object(i.useEffect)((function(){var t,n;E.length>0?(t=F.filter((function(t){return E.includes(t.assunto)})),n=h.filter((function(n){return Object(r.a)(t.map((function(t){return t.id}))).includes(n.source.id)&&Object(r.a)(t.map((function(t){return t.id}))).includes(n.target.id)}))):(n=h,t=F),N.length>0&&(t=t.filter((function(t){return Object(r.a)(new Set([].concat.apply([],Object(r.a)(t.dictionary.map((function(t){return t.assunto})))))).some((function(t){return N.includes(t)}))})),n=n.filter((function(n){return Object(r.a)(t.map((function(t){return t.id}))).includes(n.source.id)&&Object(r.a)(t.map((function(t){return t.id}))).includes(n.target.id)}))),I({nodes:t,links:n}),q(!0),P(!1)}),[L]);var H=function(n){var e=1+40/Math.hypot(n.x,n.y,n.z);t.current.cameraPosition({x:n.x*e,y:n.y*e,z:n.z*e},n,3e3)};return Object(b.jsxs)("div",{className:"Graph",children:[Object(b.jsx)(u.a,{ref:t,graphData:{nodes:o,links:d},nodeLabel:"id",linkLabel:function(t){return"".concat(t.protocolo)},nodeAutoColorBy:"assunto",onNodeClick:H,linkDirectionalParticles:1,linkDirectionalParticleWidth:2}),V&&function(t){var n=t.nodes;t.links;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{style:{overflow:"auto",borderRadius:"10px",background:"#F2F2F2",width:"300px",padding:"15px",height:"400px",position:"absolute",zIndex:"1",top:"260px",left:"20px"},children:n.map((function(t){return Object(b.jsx)("div",{onClick:function(){return H(t)},style:{cursor:"pointer",marginBottom:"6px"},children:t.id})}))})})}(z),V&&function(t){var n=t.nodes,e=t.links,i={container:{position:"absolute",width:"fit-content",left:"29px",bottom:"-12px"},button:{cursor:"pointer",background:"red",color:"#fff",padding:"10px",width:"fit-content",dsplay:"flex",alignItems:"center",justifyContent:"center",fontWeigth:"bold",borderRadius:"10px",margin:"20px auto"}};return Object(b.jsxs)("div",{style:i.container,children:[Object(b.jsx)("div",{style:i.button,onClick:function(){c(n),p(e)},children:"APLICAR FILTROS"}),Object(b.jsx)("div",{style:i.button,onClick:function(){c(F),p(h)},children:"REVERTER"})]})}(z),Object(b.jsx)(O,{assuntos:Object(r.a)(new Set(F.map((function(t){return t.assunto})))),applyFilter:function(t){A(t),P(!0)}}),Object(b.jsx)(g,{assuntos:["dado pessoal","transferencia","seguranca","dados"],applyFilter:function(t){J(t),P(!0)}}),t.current&&Object(b.jsx)(f,{nodes:o,graphRef:t})]})};var v=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(m,{graphType:"3D"})})},y=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,217)).then((function(n){var e=n.getCLS,i=n.getFID,o=n.getFCP,c=n.getLCP,a=n.getTTFB;e(t),i(t),o(t),c(t),a(t)}))};a.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root")),y(console.log)},62:function(t,n,e){},97:function(t,n,e){}},[[167,1,2]]]);
//# sourceMappingURL=main.1f78e3d4.chunk.js.map