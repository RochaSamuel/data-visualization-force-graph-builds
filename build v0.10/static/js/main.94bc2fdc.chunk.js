(this["webpackJsonpdata-visualization-graph"]=this["webpackJsonpdata-visualization-graph"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(17),r=n.n(a),o=(n(120),n(121),n(15)),s=n(18),l=(n(122),n(75)),j=n(32),d=n(256),u=n(257),b=n(5),O={container:{borderRadius:"10px",background:"#F2F2F2",width:"fit-content",padding:"15px",height:"fit-content",position:"absolute",zIndex:"1",top:"60px",left:"10px"}};function f(e){return Object(b.jsx)("div",{style:O.container,children:Object(b.jsx)(u.a,{id:"combo-box-demo",options:e.nodes,getOptionLabel:function(e){return e.id},renderOption:function(e){return e.NOME},onInputChange:function(t,n){if(n){var c=e.nodes.filter((function(e){return e.id===n}));e.handleNodeClick(c[0])}},style:{width:300},renderInput:function(e){return Object(b.jsx)(d.a,Object(j.a)(Object(j.a)({},e),{},{label:"ID da base",variant:"outlined"}))}})})}function h(e){var t=e.data,n=e.applyFilter,c=e.label,i=e.placeholder;return Object(b.jsx)("div",{style:{marginBottom:"20px"},children:Object(b.jsx)(u.a,{multiple:!0,size:"small",limitTags:2,id:"multiple-limit-tags",options:t,style:{width:300},getOptionLabel:function(e){return e},onChange:function(e,t){n(t)},renderInput:function(e){return Object(b.jsx)(d.a,Object(j.a)(Object(j.a)({},e),{},{variant:"outlined",label:c,placeholder:i}))}})})}var p=n(4),x=n(8),m=n(259),g=n(247),v=n(248),N=n(246),C=n(51),y=n.n(C),k=n(194),S=n(250),A=n(254),I=n(253),D=n(249),F=n(251),P=n(252),T=n(244),L=Object(x.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,c=e.onClose,i=Object(p.a)(e,["children","classes","onClose"]);return Object(b.jsxs)(g.a,Object(j.a)(Object(j.a)({disableTypography:!0,className:n.root},i),{},{children:[Object(b.jsx)(k.a,{variant:"h6",children:t}),c?Object(b.jsx)(N.a,{"aria-label":"close",className:n.closeButton,onClick:c,children:Object(b.jsx)(y.a,{})}):null]}))})),R=Object(x.a)((function(e){return{root:{padding:e.spacing(2)}}}))(v.a);function z(e){return Object(b.jsx)(D.a,{component:T.a,children:Object(b.jsxs)(S.a,{size:"small","aria-label":"a dense table",children:[Object(b.jsx)(F.a,{children:Object(b.jsx)(P.a,{children:Object.keys(e.DICIONARIO[0]).map((function(e){return Object(b.jsx)(I.a,{align:"center",children:Object(b.jsx)("b",{children:e.toUpperCase()})})}))})}),Object(b.jsx)(A.a,{children:e.DICIONARIO.map((function(e){return Object(b.jsxs)(P.a,{children:[Object(b.jsx)(I.a,{align:"center",children:Object(b.jsx)("b",{children:e.col})}),Object(b.jsx)(I.a,{align:"center",children:e.dtype}),Object(b.jsx)(I.a,{align:"center",children:e.descr}),Object(b.jsx)(I.a,{align:"center",children:e.null}),Object(b.jsx)(I.a,{align:"center",children:e.LGPD}),Object(b.jsx)(I.a,{align:"center",children:e.assunto.map((function(t,n){return e.assunto[n+1]?"".concat(t,", "):"".concat(t)}))})]})}))})]})})}function M(e){var t=e.close,n=e.open,c=e.node;return Object(b.jsx)("div",{children:Object(b.jsxs)(m.a,{maxWidth:"500",onClose:t,"aria-labelledby":"customized-dialog-title",open:n,children:[Object(b.jsx)(L,{id:"customized-dialog-title",onClose:t,children:"Dicion\xe1rio de Dados"}),Object(b.jsx)(R,{dividers:!0,children:z(c)})]})})}var w=n(96),B=n.n(w),E=n(95),U=n.n(E);var J=function(e){var t=e.graphType,n=e.close,i=Object(c.useRef)(null),a=Object(c.useState)(!0),r=Object(o.a)(a,2),j=r[0],d=r[1],u=Object(c.useState)([]),O=Object(o.a)(u,2),p=O[0],x=O[1],m=Object(c.useState)([]),g=Object(o.a)(m,2),v=g[0],N=g[1],C=Object(c.useState)([]),k=Object(o.a)(C,2),S=k[0],A=k[1],I=Object(c.useState)([]),D=Object(o.a)(I,2),F=D[0],P=D[1],T=Object(c.useState)([]),L=Object(o.a)(T,2),R=L[0],z=L[1],w=Object(c.useState)({}),E=Object(o.a)(w,2),J=E[0],W=E[1],G=Object(c.useState)(!1),H=Object(o.a)(G,2),V=H[0],q=H[1],K=Object(c.useState)(!1),Q=Object(o.a)(K,2),X=Q[0],Y=Q[1],Z=Object(c.useState)(!1),$=Object(o.a)(Z,2),_=$[0],ee=$[1],te=Object(c.useState)(!1),ne=Object(o.a)(te,2),ce=ne[0],ie=ne[1],ae=Object(c.useState)([]),re=Object(o.a)(ae,2),oe=re[0],se=re[1],le=Object(c.useState)([]),je=Object(o.a)(le,2),de=je[0],ue=je[1],be=Object(c.useState)([]),Oe=Object(o.a)(be,2),fe=Oe[0],he=Oe[1];Object(c.useEffect)((function(){fetch("conns.json").then((function(e){return e.json()})).then((function(e){N(e),A(e)}),[]),fetch("nodes.json").then((function(e){return e.json()})).then((function(e){x(e),P(e),d(!1)}))}),[]),Object(c.useEffect)((function(){var e,t;oe.length>0?(e=F.filter((function(e){return e.ASSUNTO.some((function(e){return oe.includes(e)}))})),t=S.filter((function(t){return Object(s.a)(e.map((function(e){return e.id}))).includes(t.source.id)&&Object(s.a)(e.map((function(e){return e.id}))).includes(t.target.id)}))):(t=S,e=F),de.length>0&&(e=e.filter((function(e){return de.includes(e.PLATAFORMA)})),t=t.filter((function(t){return Object(s.a)(e.map((function(e){return e.id}))).includes(t.source.id)&&Object(s.a)(e.map((function(e){return e.id}))).includes(t.target.id)}))),fe.length>0&&(e=e.filter((function(e){return fe.includes(e.CONJUNTO)})),t=t.filter((function(t){return Object(s.a)(e.map((function(e){return e.id}))).includes(t.source.id)&&Object(s.a)(e.map((function(e){return e.id}))).includes(t.target.id)}))),(oe.length>0||de.length>0||fe.length>0)&&Y(!0),z({nodes:e,links:t}),ie(!1)}),[ce,oe,fe,de]);var pe,xe=function(e){if("3D"===t){var n=1+40/Math.hypot(e.x,e.y,e.z);i.current.cameraPosition({x:e.x*n,y:e.y*n,z:e.z*n},e,3e3)}else i.current.centerAt(e.x,e.y,1e3),i.current.zoom(7,2e3);e.fx=e.x,e.fy=e.y,W(e),q(!0)};return Object(b.jsxs)("div",{className:"Graph",children:["3D"===t?Object(b.jsx)(b.Fragment,{children:!j&&Object(b.jsx)(l.b,{ref:i,graphData:{nodes:p,links:v},nodeLabel:"id",linkLabel:function(e){return"".concat(e.protocolo)},nodeAutoColorBy:"PLATAFORMA",onNodeClick:xe,linkDirectionalParticles:1,linkDirectionalParticleWidth:2})}):Object(b.jsx)(b.Fragment,{children:!j&&Object(b.jsx)(l.a,{ref:i,graphData:{nodes:p,links:v},autoPauseRedraw:!0,linkDirectionalParticles:1,linkDirectionalParticleWidth:2,linkDirectionalArrowLength:6,nodeLabel:"id",linkLabel:function(e){return"".concat(e.protocolo)},nodeAutoColorBy:"PLATAFORMA",nodeCanvasObjectMode:function(){return"after"},nodeCanvasObject:function(e,t){var n=e.NOME;t.font="".concat(6,"px Sans-Serif"),t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(n,e.x,e.y+9)},onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y},onNodeClick:xe})}),X&&function(e){var t=e.nodes,n=e.links;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"filteredResultsContainer",children:[Object(b.jsxs)("div",{className:"filteredResultsNav",children:[Object(b.jsx)(y.a,{style:{cursor:"pointer"},onClick:function(){return Y(!1)}}),Object(b.jsx)(U.a,{style:{cursor:"pointer"},onClick:function(){x(t),N(n)}}),Object(b.jsx)(B.a,{style:{cursor:"pointer"},onClick:function(){x(F),N(S)}})]}),Object(b.jsx)("div",{style:{marginTop:"45px"},children:t.map((function(e){return Object(b.jsx)("div",{className:"filteredResultsNodeId",onClick:function(){return xe(e)},style:{cursor:"pointer",marginBottom:"6px"},children:e.NOME})}))})]})})}(R),V&&(pe=J,Object(b.jsxs)("div",{className:"nodeInfoContainer",children:[Object(b.jsx)(y.a,{style:{cursor:"pointer"},onClick:function(){return q(!1)}}),Object(b.jsxs)("div",{className:"nodeInfoTitle",children:[Object(b.jsx)("b",{children:"Informa\xe7\xf5es da Base: "}),pe.NOME]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"ID: "}),pe.id]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Plataforma: "}),pe.PLATAFORMA]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Caminho: "}),pe.CAMINHO]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Conjunto: "}),pe.CONJUNTO]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Assunto: "}),pe.ASSUNTO.map((function(e){return Object(b.jsx)("div",{children:e})}))]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Dscri\xe7\xe3o: "}),pe.DESCR]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Dicion\xe1rio: "}),Object(b.jsx)("div",{onClick:function(){return ee(!0)},className:"nodeInfoDicioLink",children:"Visualizar Dicion\xe1rio"})]})]})),_&&Object(b.jsx)(M,{open:_,close:function(){return ee(!1)},node:J}),Object(b.jsxs)("div",{style:{borderRadius:"10px",background:"#F2F2F2",width:"fit-content",padding:"15px 15px 0 15px",height:"fit-content",maxHeight:"80vh",position:"absolute",zIndex:"1",top:"158px",left:"10px"},children:[Object(b.jsx)(h,{data:Object(s.a)(new Set(Object(s.a)([].concat.apply([],Object(s.a)(p.map((function(e){return e.ASSUNTO}))))))),applyFilter:function(e){se(e),ie(!0)},label:"Assuntos",placeholder:"assuntos"}),Object(b.jsx)(h,{data:Object(s.a)(new Set(p.map((function(e){return e.PLATAFORMA})))),applyFilter:function(e){ue(e),ie(!0)},label:"Plataforma",placeholder:"plataforma"}),Object(b.jsx)(h,{data:Object(s.a)(new Set(p.map((function(e){return e.CONJUNTO})))),applyFilter:function(e){he(e),ie(!0)},label:"Conjunto",placeholder:"conjunto"})]}),Object(b.jsx)("div",{className:"backButton",onClick:n,children:"Voltar"}),!j&&Object(b.jsx)(f,{nodes:p,graphRef:i,handleNodeClick:xe})]})};function W(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(!1),r=Object(o.a)(a,2),s=r[0],l=r[1],j=function(){l(!1),i(!1)};return Object(b.jsxs)(b.Fragment,{children:[n&&Object(b.jsx)(J,{graphType:"2D",close:j}),s&&Object(b.jsx)(J,{graphType:"3D",close:j}),!n&&!s&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"home-title",children:"Escolha o modelo"}),Object(b.jsx)("button",{className:"home-2dbtn",onClick:function(){return i(!0)},children:"2D"}),Object(b.jsx)("button",{className:"home-3dbtn",onClick:function(){return l(!0)},children:"3D"})]})]})}var G=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(W,{})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,263)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root")),H(console.log)}},[[193,1,2]]]);
//# sourceMappingURL=main.94bc2fdc.chunk.js.map