(this["webpackJsonpdata-visualization-graph"]=this["webpackJsonpdata-visualization-graph"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(18),r=n.n(a),o=(n(120),n(121),n(17)),s=n(16),l=(n(122),n(96)),u=n(32),d=n(258),j=n(259),b=n(6),O={container:{borderRadius:"10px",background:"#F2F2F2",width:"fit-content",padding:"15px",height:"fit-content",position:"absolute",zIndex:"1",top:"20px",left:"20px"}};function f(e){return Object(b.jsx)("div",{style:O.container,children:Object(b.jsx)(j.a,{id:"combo-box-demo",options:e.nodes,getOptionLabel:function(e){return e.id},onInputChange:function(t,n){var c=e.nodes.filter((function(e){return e.id===n})),i=1+40/Math.hypot(c[0].x,c[0].y,c[0].z);e.graphRef.current.cameraPosition({x:c[0].x*i,y:c[0].y*i,z:c[0].z*i},c[0],3e3)},style:{width:300},renderInput:function(e){return Object(b.jsx)(d.a,Object(u.a)(Object(u.a)({},e),{},{label:"ID da base",variant:"outlined"}))}})})}function p(e){var t=e.data,n=e.applyFilter,c=e.label,i=e.placeholder;return Object(b.jsx)("div",{style:{marginBottom:"20px"},children:Object(b.jsx)(j.a,{multiple:!0,size:"small",limitTags:2,id:"multiple-limit-tags",options:t,style:{width:300},getOptionLabel:function(e){return e},onChange:function(e,t){n(t)},renderInput:function(e){return Object(b.jsx)(d.a,Object(u.a)(Object(u.a)({},e),{},{variant:"outlined",label:c,placeholder:i}))}})})}var h=n(4),x=n(8),m=n(261),g=n(249),v=n(250),y=n(248),C=n(51),N=n.n(C),I=n(194),S=n(252),A=n(256),F=n(255),k=n(251),P=n(253),T=n(254),D=n(246),z=Object(x.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,c=e.onClose,i=Object(h.a)(e,["children","classes","onClose"]);return Object(b.jsxs)(g.a,Object(u.a)(Object(u.a)({disableTypography:!0,className:n.root},i),{},{children:[Object(b.jsx)(I.a,{variant:"h6",children:t}),c?Object(b.jsx)(y.a,{"aria-label":"close",className:n.closeButton,onClick:c,children:Object(b.jsx)(N.a,{})}):null]}))})),R=Object(x.a)((function(e){return{root:{padding:e.spacing(2)}}}))(v.a);function L(e){return Object(b.jsx)(k.a,{component:D.a,children:Object(b.jsxs)(S.a,{size:"small","aria-label":"a dense table",children:[Object(b.jsx)(P.a,{children:Object(b.jsxs)(T.a,{children:[Object(b.jsx)(F.a,{children:Object(b.jsx)("b",{children:"ID"})}),Object(b.jsx)(F.a,{align:"center",children:Object(b.jsx)("b",{children:"Assunto"})})]})}),Object(b.jsx)(A.a,{children:e.DICIONARIO.map((function(e){return Object(b.jsxs)(T.a,{children:[Object(b.jsx)(F.a,{children:e.id}),Object(b.jsx)(F.a,{align:"center",children:e.assunto.map((function(t,n){return e.assunto[n+1]?"".concat(t,", "):"".concat(t)}))})]})}))})]})})}function w(e){var t=e.close,n=e.open,c=e.node;return Object(b.jsx)("div",{children:Object(b.jsxs)(m.a,{onClose:t,"aria-labelledby":"customized-dialog-title",open:n,children:[Object(b.jsx)(z,{id:"customized-dialog-title",onClose:t,children:"Dicion\xe1rio de Dados"}),Object(b.jsx)(R,{dividers:!0,children:L(c)})]})})}var B=n(95),M=n.n(B),U=n(94),J=n.n(U);var E=function(){var e=Object(c.useRef)(null),t=Object(c.useState)([]),n=Object(s.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)([]),u=Object(s.a)(r,2),d=u[0],j=u[1],O=Object(c.useState)([]),h=Object(s.a)(O,2),x=h[0],m=h[1],g=Object(c.useState)([]),v=Object(s.a)(g,2),y=v[0],C=v[1],I=Object(c.useState)([]),S=Object(s.a)(I,2),A=S[0],F=S[1],k=Object(c.useState)({}),P=Object(s.a)(k,2),T=P[0],D=P[1],z=Object(c.useState)(!1),R=Object(s.a)(z,2),L=R[0],B=R[1],U=Object(c.useState)(!1),E=Object(s.a)(U,2),H=E[0],G=E[1],V=Object(c.useState)(!1),W=Object(s.a)(V,2),q=W[0],K=W[1],Q=Object(c.useState)(!1),X=Object(s.a)(Q,2),Y=X[0],Z=X[1],$=Object(c.useState)([]),_=Object(s.a)($,2),ee=_[0],te=_[1],ne=Object(c.useState)([]),ce=Object(s.a)(ne,2),ie=ce[0],ae=ce[1],re=Object(c.useState)([]),oe=Object(s.a)(re,2),se=oe[0],le=oe[1],ue=Object(c.useState)([]),de=Object(s.a)(ue,2),je=de[0],be=de[1];Object(c.useEffect)((function(){fetch("conns.json").then((function(e){return e.json()})).then((function(e){j(e),m(e)}),[]),fetch("nodes.json").then((function(e){return e.json()})).then((function(e){a(e),C(e)}))}),[]),Object(c.useEffect)((function(){var e,t;ee.length>0?(e=y.filter((function(e){return e.ASSUNTO.some((function(e){return ee.includes(e)}))})),t=x.filter((function(t){return Object(o.a)(e.map((function(e){return e.id}))).includes(t.source.id)&&Object(o.a)(e.map((function(e){return e.id}))).includes(t.target.id)}))):(t=x,e=y),ie.length>0&&(e=e.filter((function(e){return Object(o.a)(new Set([].concat.apply([],Object(o.a)(e.DICIONARIO.map((function(e){return e.assunto})))))).some((function(e){return ie.includes(e)}))})),t=t.filter((function(t){return Object(o.a)(e.map((function(e){return e.id}))).includes(t.source.id)&&Object(o.a)(e.map((function(e){return e.id}))).includes(t.target.id)}))),se.length>0&&(e=e.filter((function(e){return se.includes(e.PLATAFORMA)})),t=t.filter((function(t){return Object(o.a)(e.map((function(e){return e.id}))).includes(t.source.id)&&Object(o.a)(e.map((function(e){return e.id}))).includes(t.target.id)}))),je.length>0&&(e=e.filter((function(e){return je.includes(e.CONJUNTO)})),t=t.filter((function(t){return Object(o.a)(e.map((function(e){return e.id}))).includes(t.source.id)&&Object(o.a)(e.map((function(e){return e.id}))).includes(t.target.id)}))),(ee.length>0||ie.length>0||se.length>0||je.length>0)&&G(!0),F({nodes:e,links:t}),Z(!1)}),[Y]);var Oe,fe=function(t){var n=1+40/Math.hypot(t.x,t.y,t.z);e.current.cameraPosition({x:t.x*n,y:t.y*n,z:t.z*n},t,3e3),D(t),B(!0)};return console.log(q),Object(b.jsxs)("div",{className:"Graph",children:[Object(b.jsx)(l.a,{ref:e,graphData:{nodes:i,links:d},nodeLabel:"id",linkLabel:function(e){return"".concat(e.protocolo)},nodeAutoColorBy:"PLATAFORMA",onNodeClick:fe,linkDirectionalParticles:1,linkDirectionalParticleWidth:2}),H&&function(e){var t=e.nodes,n=e.links;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"filteredResultsContainer",children:[Object(b.jsxs)("div",{className:"filteredResultsNav",children:[Object(b.jsx)(N.a,{style:{cursor:"pointer"},onClick:function(){return G(!1)}}),Object(b.jsx)(J.a,{style:{cursor:"pointer"},onClick:function(){a(t),j(n)}}),Object(b.jsx)(M.a,{style:{cursor:"pointer"},onClick:function(){a(y),j(x)}})]}),Object(b.jsx)("div",{style:{marginTop:"40px"},children:t.map((function(e){return Object(b.jsx)("div",{className:"filteredResultsNodeId",onClick:function(){return fe(e)},style:{cursor:"pointer",marginBottom:"6px"},children:e.id})}))})]})})}(A),L&&(Oe=T,Object(b.jsxs)("div",{className:"nodeInfoContainer",children:[Object(b.jsx)(N.a,{style:{cursor:"pointer"},onClick:function(){return B(!1)}}),Object(b.jsxs)("div",{className:"nodeInfoTitle",children:[Object(b.jsx)("b",{children:"Informa\xe7\xf5es da Base: "}),Oe.id]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Plataforma: "}),Oe.PLATAFORMA]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Caminho: "}),Oe.CAMINHO]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Conjunto: "}),Oe.CONJUNTO]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Assunto: "}),Oe.ASSUNTO]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Dscri\xe7\xe3o: "}),Oe.DESCR]}),Object(b.jsxs)("div",{className:"nodeInfoProp",children:[Object(b.jsx)("b",{children:"Dicion\xe1rio: "}),Object(b.jsx)("div",{onClick:function(){return K(!0)},className:"nodeInfoDicioLink",children:"Visualizar Dicion\xe1rio"})]})]})),q&&Object(b.jsx)(w,{open:q,close:function(){return K(!1)},node:T}),Object(b.jsxs)("div",{style:{borderRadius:"10px",background:"#F2F2F2",width:"fit-content",padding:"15px 15px 0 15px",height:"fit-content",maxHeight:"80vh",position:"absolute",zIndex:"1",top:"130px",left:"20px"},children:[Object(b.jsx)(p,{data:Object(o.a)(new Set(Object(o.a)([].concat.apply([],Object(o.a)(i.map((function(e){return e.ASSUNTO}))))))),applyFilter:function(e){te(e),Z(!0)},label:"Assuntos",placeholder:"assuntos"}),Object(b.jsx)(p,{data:["dado pessoal","transferencia","seguranca","dados","cliente"],applyFilter:function(e){ae(e),Z(!0)},label:"Assuntos das Colunas",placeholder:"assuntos"}),Object(b.jsx)(p,{data:Object(o.a)(new Set(i.map((function(e){return e.PLATAFORMA})))),applyFilter:function(e){le(e),Z(!0)},label:"Plataforma",placeholder:"plataforma"}),Object(b.jsx)(p,{data:Object(o.a)(new Set(i.map((function(e){return e.CONJUNTO})))),applyFilter:function(e){be(e),Z(!0)},label:"Conjunto",placeholder:"conjunto"})]}),e.current&&Object(b.jsx)(f,{nodes:i,graphRef:e})]})};var H=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(E,{graphType:"3D"})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,265)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(H,{})}),document.getElementById("root")),G(console.log)}},[[193,1,2]]]);
//# sourceMappingURL=main.cd92ee02.chunk.js.map