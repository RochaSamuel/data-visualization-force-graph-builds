(this["webpackJsonpdata-visualization-graph"]=this["webpackJsonpdata-visualization-graph"]||[]).push([[0],{167:function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),c=n(16),a=n.n(c),r=(n(97),n(60),n(23)),s=n(17),u=n(76),l=n(37),d=n(212),b=n(213),j=n(14),p={container:{borderRadius:"10px",background:"#F2F2F2",width:"fit-content",padding:"15px",height:"fit-content",position:"absolute",zIndex:"1",top:"20px",left:"20px"}};function f(t){return console.log(t.nodes),Object(j.jsx)("div",{style:p.container,children:Object(j.jsx)(b.a,{id:"combo-box-demo",options:t.nodes,getOptionLabel:function(t){return t.id},onInputChange:function(e,n){var i=t.nodes.filter((function(t){return t.id===n})),o=1+40/Math.hypot(i[0].x,i[0].y,i[0].z);t.graphRef.current.cameraPosition({x:i[0].x*o,y:i[0].y*o,z:i[0].z*o},i[0],3e3)},style:{width:300},renderInput:function(t){return Object(j.jsx)(d.a,Object(l.a)(Object(l.a)({},t),{},{label:"ID da base",variant:"outlined"}))}})})}var h={container:{borderRadius:"10px",background:"#F2F2F2",width:"max-content",padding:"15px",height:"fit-content",position:"absolute",zIndex:"1",top:"130px",left:"20px"}};function x(t){var e=t.assuntos,n=t.applyFilter;return Object(j.jsx)("div",{style:h.container,children:Object(j.jsx)(b.a,{multiple:!0,size:"small",limitTags:2,id:"multiple-limit-tags",options:e,style:{width:300},getOptionLabel:function(t){return t},onChange:function(t,e){n(e)},renderInput:function(t){return Object(j.jsx)(d.a,Object(l.a)(Object(l.a)({},t),{},{variant:"outlined",label:"Slecione os assuntos",placeholder:"assuntos"}))}})})}var O=function(){var t=Object(i.useRef)(null),e=Object(i.useState)([]),n=Object(s.a)(e,2),o=n[0],c=n[1],a=Object(i.useState)([]),l=Object(s.a)(a,2),d=l[0],b=l[1],p=Object(i.useState)([]),h=Object(s.a)(p,2),O=h[0],g=h[1],v=Object(i.useState)([]),m=Object(s.a)(v,2),y=m[0],k=m[1],F=Object(i.useState)([]),S=Object(s.a)(F,2),z=S[0],C=S[1],I=Object(i.useState)(!1),R=Object(s.a)(I,2),w=R[0],L=R[1],P=Object(i.useState)([]),D=Object(s.a)(P,2),E=D[0],T=D[1],A=Object(i.useState)(!1),B=Object(s.a)(A,2),M=B[0],N=B[1];Object(i.useEffect)((function(){fetch("linksv2.json").then((function(t){return t.json()})).then((function(t){b(t),g(t)}),[]),fetch("nodesv2.json").then((function(t){return t.json()})).then((function(t){c(t),k(t)}))}),[]),Object(i.useEffect)((function(){var t,e;E.length>0?(t=y.filter((function(t){return E.includes(t.assunto)})),e=O.filter((function(e){return Object(r.a)(t.map((function(t){return t.id}))).includes(e.source.id)&&Object(r.a)(t.map((function(t){return t.id}))).includes(e.target.id)}))):(e=O,t=y),C({nodes:t,links:e}),N(!0),L(!1)}),[w]);var J=function(e){var n=1+40/Math.hypot(e.x,e.y,e.z);t.current.cameraPosition({x:e.x*n,y:e.y*n,z:e.z*n},e,3e3)};return Object(j.jsxs)("div",{className:"Graph",children:[Object(j.jsx)(u.a,{ref:t,graphData:{nodes:o,links:d},nodeLabel:"id",linkLabel:function(t){return"".concat(t.protocolo)},nodeAutoColorBy:"assunto",onNodeClick:J,linkDirectionalParticles:1,linkDirectionalParticleWidth:2}),M&&function(t){var e=t.nodes,n=t.links,i={container:{overflow:"auto",borderRadius:"10px",background:"#F2F2F2",width:"300px",padding:"15px",height:"400px",position:"absolute",zIndex:"1",top:"260px",left:"20px"},button:{cursor:"pointer",background:"red",color:"#fff",padding:"10px",width:"fit-content",dsplay:"flex",alignItems:"center",justifyContent:"center",fontWeigth:"bold",borderRadius:"10px",margin:"20px auto"}};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{style:i.container,children:[e.map((function(t){return Object(j.jsx)("div",{onClick:function(){return J(t)},style:{cursor:"pointer",marginBottom:"6px"},children:t.id})})),Object(j.jsx)("div",{style:i.button,onClick:function(){c(e),b(n)},children:"APLICAR FILTROS"}),Object(j.jsx)("div",{style:i.button,onClick:function(){c(y),b(O)},children:"REVERTER"})]})})}(z),Object(j.jsx)(x,{assuntos:Object(r.a)(new Set(y.map((function(t){return t.assunto})))),applyFilter:function(t){T(t),L(!0)}}),t.current&&Object(j.jsx)(f,{nodes:o,graphRef:t})]})};var g=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(O,{graphType:"3D"})})},v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(e){var n=e.getCLS,i=e.getFID,o=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),i(t),o(t),c(t),a(t)}))};a.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root")),v(console.log)},60:function(t,e,n){},97:function(t,e,n){}},[[167,1,2]]]);
//# sourceMappingURL=main.fb58d913.chunk.js.map