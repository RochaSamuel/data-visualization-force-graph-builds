(this["webpackJsonpdata-visualization-graph"]=this["webpackJsonpdata-visualization-graph"]||[]).push([[0],{167:function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),c=n(16),a=n.n(c),r=(n(97),n(62),n(18)),s=n(17),u=n(78),l=n(30),d=n(212),p=n(213),b=n(11),j={container:{borderRadius:"10px",background:"#F2F2F2",width:"fit-content",padding:"15px",height:"fit-content",position:"absolute",zIndex:"1",top:"20px",left:"20px"}};function f(t){return Object(b.jsx)("div",{style:j.container,children:Object(b.jsx)(p.a,{id:"combo-box-demo",options:t.nodes,getOptionLabel:function(t){return t.id},onInputChange:function(e,n){var i=t.nodes.filter((function(t){return t.id===n})),o=1+40/Math.hypot(i[0].x,i[0].y,i[0].z);t.graphRef.current.cameraPosition({x:i[0].x*o,y:i[0].y*o,z:i[0].z*o},i[0],3e3)},style:{width:300},renderInput:function(t){return Object(b.jsx)(d.a,Object(l.a)(Object(l.a)({},t),{},{label:"ID da base",variant:"outlined"}))}})})}var O={container:{borderRadius:"10px",background:"#F2F2F2",width:"max-content",padding:"15px",height:"fit-content",position:"absolute",zIndex:"1",top:"130px",left:"20px"}};function x(t){var e=t.assuntos,n=t.applyFilter;return Object(b.jsx)("div",{style:O.container,children:Object(b.jsx)(p.a,{multiple:!0,size:"small",limitTags:2,id:"multiple-limit-tags",options:e,style:{width:300},getOptionLabel:function(t){return t},onChange:function(t,e){n(e)},renderInput:function(t){return Object(b.jsx)(d.a,Object(l.a)(Object(l.a)({},t),{},{variant:"outlined",label:"Slecione os assuntos",placeholder:"assuntos"}))}})})}var h={container:{borderRadius:"10px",background:"#F2F2F2",width:"max-content",padding:"15px",height:"fit-content",position:"absolute",zIndex:"1",top:"130px",right:"20px"}};function g(t){var e=t.assuntos,n=t.applyFilter;return Object(b.jsx)("div",{style:h.container,children:Object(b.jsx)(p.a,{multiple:!0,size:"small",limitTags:2,id:"multiple-limit-tags",options:e,style:{width:300},getOptionLabel:function(t){return t},onChange:function(t,e){n(e)},renderInput:function(t){return Object(b.jsx)(d.a,Object(l.a)(Object(l.a)({},t),{},{variant:"outlined",label:"Slecione os assuntos",placeholder:"assuntos"}))}})})}var m=function(){var t=Object(i.useRef)(null),e=Object(i.useState)([]),n=Object(s.a)(e,2),o=n[0],c=n[1],a=Object(i.useState)([]),l=Object(s.a)(a,2),d=l[0],p=l[1],j=Object(i.useState)([]),O=Object(s.a)(j,2),h=O[0],m=O[1],v=Object(i.useState)([]),y=Object(s.a)(v,2),F=y[0],S=y[1],k=Object(i.useState)([]),I=Object(s.a)(k,2),R=I[0],w=I[1],z=Object(i.useState)(!1),C=Object(s.a)(z,2),A=C[0],L=C[1],T=Object(i.useState)([]),P=Object(s.a)(T,2),D=P[0],E=P[1],N=Object(i.useState)([]),B=Object(s.a)(N,2),M=B[0],J=B[1],U=Object(i.useState)(!1),W=Object(s.a)(U,2),G=W[0],V=W[1];Object(i.useEffect)((function(){fetch("conns.json").then((function(t){return t.json()})).then((function(t){p(t),m(t)}),[]),fetch("nodes.json").then((function(t){return t.json()})).then((function(t){c(t),S(t)}))}),[]),console.log(o),console.log(d),Object(i.useEffect)((function(){var t,e;D.length>0?(t=F.filter((function(t){return D.includes(t.ASSUNTO)})),e=h.filter((function(e){return Object(r.a)(t.map((function(t){return t.id}))).includes(e.source.id)&&Object(r.a)(t.map((function(t){return t.id}))).includes(e.target.id)}))):(e=h,t=F),M.length>0&&(t=t.filter((function(t){return Object(r.a)(new Set([].concat.apply([],Object(r.a)(t.DICIONARIO.map((function(t){return t.assunto})))))).some((function(t){return M.includes(t)}))})),e=e.filter((function(e){return Object(r.a)(t.map((function(t){return t.id}))).includes(e.source.id)&&Object(r.a)(t.map((function(t){return t.id}))).includes(e.target.id)}))),w({nodes:t,links:e}),V(!0),L(!1)}),[A]);var q=function(e){var n=1+40/Math.hypot(e.x,e.y,e.z);t.current.cameraPosition({x:e.x*n,y:e.y*n,z:e.z*n},e,3e3)};return Object(b.jsxs)("div",{className:"Graph",children:[Object(b.jsx)(u.a,{ref:t,graphData:{nodes:o,links:d},nodeLabel:"id",linkLabel:function(t){return"".concat(t.protocolo)},nodeAutoColorBy:"PLATAFORMA",onNodeClick:q,linkDirectionalParticles:1,linkDirectionalParticleWidth:2}),G&&function(t){var e=t.nodes;t.links;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{style:{overflow:"auto",borderRadius:"10px",background:"#F2F2F2",width:"300px",padding:"15px",height:"400px",position:"absolute",zIndex:"1",top:"260px",left:"20px"},children:e.map((function(t){return Object(b.jsx)("div",{onClick:function(){return q(t)},style:{cursor:"pointer",marginBottom:"6px"},children:t.id})}))})})}(R),G&&function(t){var e=t.nodes,n=t.links,i={container:{position:"absolute",width:"fit-content",left:"29px",bottom:"-12px"},button:{cursor:"pointer",background:"red",color:"#fff",padding:"10px",width:"fit-content",dsplay:"flex",alignItems:"center",justifyContent:"center",fontWeigth:"bold",borderRadius:"10px",margin:"20px auto"}};return Object(b.jsxs)("div",{style:i.container,children:[Object(b.jsx)("div",{style:i.button,onClick:function(){c(e),p(n)},children:"APLICAR FILTROS"}),Object(b.jsx)("div",{style:i.button,onClick:function(){c(F),p(h)},children:"REVERTER"})]})}(R),Object(b.jsx)(x,{assuntos:Object(r.a)(new Set(F.map((function(t){return t.ASSUNTO})))),applyFilter:function(t){E(t),L(!0)}}),Object(b.jsx)(g,{assuntos:["dado pessoal","transferencia","seguranca","dados","cliente"],applyFilter:function(t){J(t),L(!0)}}),t.current&&Object(b.jsx)(f,{nodes:o,graphRef:t})]})};var v=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(m,{graphType:"3D"})})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(e){var n=e.getCLS,i=e.getFID,o=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),i(t),o(t),c(t),a(t)}))};a.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root")),y(console.log)},62:function(t,e,n){},97:function(t,e,n){}},[[167,1,2]]]);
//# sourceMappingURL=main.e24dd6c4.chunk.js.map